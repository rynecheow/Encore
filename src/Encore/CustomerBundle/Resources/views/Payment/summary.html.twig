{% extends 'EncoreCustomerBundle::layout.html.twig' %}
{% block require_js %}
    require(["encore/payment/summary"]);

{% endblock require_js %}

{% block title %}
    Summary
{% endblock title %}

{% block content %}
    <div class="summary-wrapper">
        <div id="static-logo" onclick="location.href='/';"></div>
        <div class="summary-main">
            <form class="personal-detail-form" action="{{ path("encore_payment") }}" method="post">
                <h1>Summary</h1>

                <div class="summary-order">
                    <h2>Your Order</h2>

                    <p><label>Time & Date</label><span class="time-date">{{ data.date }}</span></p>
                    <input type="hidden" value="{{ data.event.description }}" name="desc"/>
                    <input type="hidden" value="{{ data.totalPrice }}" name="totalPrice"/>
                    <input type="hidden" value="{{ data.totalPrice }}" name="totalPrice"/>
                    <p><label>Vanue</label><span class="vanue"></span>{{ data.location }}</p>
                    <p><label>Section</label><span class="vanue"></span>{{ data.event_section }}</p>
                    <p><label>Ticket Type & Quantity</label>
                <span class="type-quantity">
                    <table class="type-quantity-table">
                        {#<tr>#}

                            {#<th>Seats</th>#}
                            {#<th>Price</th>#}
                        {#</tr>#}
                        {% for key , value in data %}
                            <tr>
                                {% for key2, value2 in value %}
                                    {% if key == "seat-allocation" %}
                                        <td>Seats</td>

                                        <td>{{ value2 }}</td>
                                    {% elseif key == "price" %}
                                        <td>price</td>
                                        <td>{{ value2 }}</td>
                                    {% endif %}

                                    {#<td>1</td>#}
                                    {#<td>100</td>#}
                                    {#<td>RM 500</td>#}
                                    {#</tr>#}
                                {% endfor %}
                            </tr>
                        {% endfor %}
                        {#<tr>#}
                        {#<td>1</td>#}
                        {#<td>100</td>#}
                        {#<td>RM 500</td>#}
                        {#</tr>#}
                        {#<tr>#}
                        {#<td>2</td>#}
                        {#<td>45</td>#}
                        {#<td>RM 300</td>#}
                        {#</tr>#}
                        {#<tr>#}
                        {#<td>3</td>#}
                        {#<td>15</td>#}
                        {#<td>RM 200</td>#}
                        {#</tr>#}
                    </table>
                </span>
                    </p>
                    <p><label>Total Quantity</label><span class="price">{{ data.qty }}</span></p>

                    <p><label>Total Price</label><span class="price">RM {{ data.totalPrice }}</span></p>
                </div>

                <h2>Personal Detail</h2>

                <p>
                    <label>Name</label>
                    <span>
                        <input name="_name" class=name" type="text" data-required="true" data-trigger="change"
                               data-required-message="Please enter Name"
                               required="required"
                               value="{% if name is defined %} {{ name }} {% endif %}"/></span></p>

                <p>

                    <label>Email</label>
                    <span>
                        <input name="_email" class="email" type="text" data-type="email" data-required="true"
                               data-trigger="change"
                               data-required-message="Please enter email"
                               required="required"
                               value="{% if email is defined %} {{ email }} {% endif %}"/></span>
                </p>

                <p>
                    <label>Phone</label>
                    <span>
                        <input name="_phone" class="phone" type="text" data-required="true" data-type="digits"
                               data-trigger="change"
                               data-required-message="Please enter Phone Number"
                               required="required"
                               value="{% if phone is defined %} {{ phone }} {% endif %}"/></span>
                </p>
        </div>
        <div class="summary-button">
            <button class="cancel">Cancel</button>
            <button class="confirm" type="submit">Confirm</button>
        </div>
        </form>
    </div>
    </div>
{% endblock content %}